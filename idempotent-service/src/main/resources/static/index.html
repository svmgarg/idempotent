<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Idempotency Service - API Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>üîí</text></svg>">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Top Header -->
    <header class="top-header">
        <div class="header-content">
            <div class="header-left">
                <button class="sidebar-collapse-btn" id="sidebarCollapseBtn" title="Toggle Sidebar">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <a class="logo" href="#">üîí Idempotency Service</a>
            </div>
            <button class="sidebar-toggle d-lg-none" id="sidebarToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <!-- Sidebar Navigation -->
    <aside class="sidebar" id="sidebar">
        <nav class="sidebar-nav">
            <h5 class="nav-section-title">Documentation</h5>
            <ul class="nav-list">
                <li><a href="#overview" class="nav-link-sidebar" data-label="Overview">üìñ Overview</a></li>
                <li><a href="#quickstart" class="nav-link-sidebar" data-label="Quick Start">‚ö° Quick Start</a></li>
                <li><a href="#use-cases" class="nav-link-sidebar" data-label="Use Cases">‚úÖ Use Cases</a></li>
            </ul>

            <h5 class="nav-section-title">Integration</h5>
            <ul class="nav-list">
                <li><a href="#authentication" class="nav-link-sidebar" data-label="Authentication">üîê Authentication</a></li>
                <li><a href="#check-api" class="nav-link-sidebar" data-label="Check API">üîç Check API</a></li>
                <li><a href="#health-api" class="nav-link-sidebar" data-label="Health API">‚ù§Ô∏è Health API</a></li>
            </ul>

            <h5 class="nav-section-title">Resources</h5>
            <ul class="nav-list">
                <li><a href="#examples" class="nav-link-sidebar" data-label="Examples">üí° Examples</a></li>
                <li><a href="#tester" class="nav-link-sidebar" data-label="API Tester">üß™ API Tester</a></li>
                <li><a href="#faq" class="nav-link-sidebar" data-label="FAQ">‚ùì FAQ</a></li>
            </ul>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Hero/Title Bar (Always visible) -->
        <div class="page-header">
            <h1 id="pageTitle">üîí Idempotency Service</h1>
            <p id="pageSubtitle">Never Process the Same Operation Twice</p>
        </div>

        <!-- Content Area (SPA - One section at a time) -->
        <div class="content-area">
            <!-- Overview Section -->
            <section class="page" data-page="overview">
                <h2>üìñ Overview</h2>
                <p>The Idempotency Service is your safety net against duplicate triggers.</p>
                <p>In distributed systems, the same request can arrive multiple times due to network failures, user retries, automation tool retries, or client-side issues. Without idempotency, this means the same operation gets executed multiple times‚Äîresulting in duplicate charges, double-booked seats, duplicate orders, or duplicate notifications.</p>
                
                <div class="info-box">
                    <strong>How It Works:</strong>
                    <ol style="margin-top: 10px;">
                        <li><strong>First Request:</strong> Your app calls <code>/check</code> with a unique ID ‚Üí Returns <code>isDuplicate: false</code></li>
                        <li><strong>Process:</strong> Your app executes the operation (payment, order, etc.) and caches the result</li>
                        <li><strong>Duplicate Request:</strong> Same ID arrives again ‚Üí Calls <code>/check</code> ‚Üí Returns <code>isDuplicate: true</code></li>
                        <li><strong>Skip:</strong> Your app returns the cached result WITHOUT re-executing</li>
                    </ol>
                </div>

                <h3>Base URL</h3>
                <pre><code>http://144.24.119.46/api/idempotency</code></pre>
            </section>

            <!-- Quick Start Section -->
            <section class="page" data-page="quickstart">
                <h2>‚ö° Quick Start (2 Minutes)</h2>
                <p>Get up and running with the Idempotency Service in just a few steps:</p>

                <div class="success-box">
                    <strong>Step 1: Check the Service is Healthy</strong>
                    <pre style="margin-top: 10px;"><code>curl http://144.24.119.46/ping</code></pre>
                    <p style="margin-top: 10px; margin-bottom: 0;">Expected response: <code>PONG</code></p>
                </div>

                <div class="success-box">
                    <strong>Step 2: Make Your First Idempotency Check</strong>
                    <pre style="margin-top: 10px;"><code>curl -X POST http://144.24.119.46/api/idempotency/check \
  -H "Content-Type: application/json" \
  -H "X-API-KEY: demo-key-123" \
  -d '{"idempotencyKey": "order-001", "ttlSeconds": 3600}'</code></pre>
                </div>

                <div class="success-box">
                    <strong>Step 3: Test Duplicate Detection</strong>
                    <p>Run the same curl command again ‚Üí You should get <code>"isDuplicate": true</code></p>
                </div>

                <h3>Integration Pattern</h3>
                <p><strong>For your application:</strong></p>
                <ol>
                    <li>Generate a unique key (UUID, order-ID, etc.)</li>
                    <li>Call <code>/api/idempotency/check</code> with your key</li>
                    <li>If <code>isDuplicate: false</code> ‚Üí execute your operation</li>
                    <li>If <code>isDuplicate: true</code> ‚Üí return cached result</li>
                </ol>
            </section>
            <section class="page" data-page="use-cases">
                <h2>‚úÖ Real-World Scenarios</h2>
                <p>Here are common situations where duplicate triggers occur:</p>

                <div class="endpoint">
                    <h3 style="margin-top: 0;">üõí Order Creation (Most Common)</h3>
                    <p>User clicks "Place Order" twice ‚Üí Only one order is created</p>
                </div>

                <div class="endpoint">
                    <h3 style="margin-top: 0;">üí≥ Payment Processing</h3>
                    <p>Payment API is retried due to double click ‚Üí Payment executed only once</p>
                </div>

                <div class="endpoint">
                    <h3 style="margin-top: 0;">üì¶ Inventory Deduction</h3>
                    <p>Inventory call is retried ‚Üí Stock deducted only once</p>
                </div>

                <div class="endpoint">
                    <h3 style="margin-top: 0;">üîî Webhook Processing</h3>
                    <p>Webhook providers retry events ‚Üí Each event processed exactly once</p>
                </div>
            </section>

            <!-- Authentication Section -->
            <section class="page" data-page="authentication">
                <h2>üîê Authentication</h2>
                <p>The <code>/check</code> endpoint requires API Key authentication.</p>

                <h3>Header</h3>
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Header Name</th>
                                <th>Value</th>
                                <th>Required</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>X-API-KEY</code></td>
                                <td>Your assigned API key</td>
                                <td><span class="badge bg-danger">Required</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Note:</strong> The <code>/ping</code> endpoint does not require authentication.
                </div>
            </section>

            <!-- Check API Section -->
            <section class="page" data-page="check-api">
                <h2>üîç Check API</h2>

                <div class="endpoint">
                    <h3 style="margin-top: 0;">
                        <span class="method post">POST</span>
                        <code>/api/idempotency/check</code>
                        <span class="badge bg-danger ms-2">Auth Required</span>
                    </h3>
                    <p>Atomically checks if an idempotency key exists and inserts it if not found.</p>

                    <h4>Request Body</h4>
                    <div class="table-responsive">
                        <table class="table table-hover table-sm">
                            <thead>
                                <tr>
                                    <th>Field</th>
                                    <th>Type</th>
                                    <th>Required</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>idempotencyKey</code></td>
                                    <td>string</td>
                                    <td><span class="badge bg-danger">Required</span></td>
                                    <td>Unique key (1-64 characters)</td>
                                </tr>
                                <tr>
                                    <td><code>ttlSeconds</code></td>
                                    <td>long</td>
                                    <td><span class="badge bg-secondary">Optional</span></td>
                                    <td>TTL in seconds (max 3600)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h4>Example Request</h4>
                    <pre><code>POST /api/idempotency/check
Content-Type: application/json
X-API-KEY: your-api-key-here

{
  "idempotencyKey": "payment-123",
  "ttlSeconds": 3600
}</code></pre>

                    <h4>Example Response (New Key)</h4>
                    <pre><code>{
  "idempotencyKey": "payment-123",
  "isDuplicate": false,
  "createdAt": "2026-02-07T12:00:00Z",
  "expiresAt": "2026-02-07T13:00:00Z",
  "processingTimeNanos": 12500
}</code></pre>
                </div>
            </section>

            <!-- Health API Section -->
            <section class="page" data-page="health-api">
                <h2>‚ù§Ô∏è Health & Monitoring</h2>

                <div class="endpoint">
                    <h3 style="margin-top: 0;">
                        <span class="method get">GET</span>
                        <code>/api/idempotency/health</code>
                    </h3>
                    <p>Health check endpoint - requires API key</p>
                </div>

                <div class="endpoint">
                    <h3 style="margin-top: 0;">
                        <span class="method get">GET</span>
                        <code>/ping</code>
                    </h3>
                    <p>Simple ping endpoint - no authentication needed</p>
                </div>
            </section>

            <!-- Examples Section -->
            <section class="page" data-page="examples">
                <h2>üí° Code Examples</h2>

                <h3>cURL</h3>
                <div class="code-block">
                    <button class="btn btn-sm btn-outline-primary copy-btn" title="Copy to clipboard">üìã Copy</button>
                    <pre><code>curl -X POST http://144.24.119.46/api/idempotency/check \
  -H "Content-Type: application/json" \
  -H "X-API-KEY: your-api-key" \
  -d '{
    "idempotencyKey": "order-12345",
    "ttlSeconds": 3600
  }'</code></pre>
                </div>

                <h3>JavaScript</h3>
                <div class="code-block">
                    <button class="btn btn-sm btn-outline-primary copy-btn" title="Copy to clipboard">üìã Copy</button>
                    <pre><code>fetch('http://144.24.119.46/api/idempotency/check', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'X-API-KEY': 'your-api-key'
  },
  body: JSON.stringify({
    idempotencyKey: 'order-12345',
    ttlSeconds: 3600
  })
}).then(r => r.json()).then(data => {
  if (data.isDuplicate) {
    console.log('Duplicate - skip operation');
  } else {
    console.log('New request - proceed');
  }
});</code></pre>
                </div>

                <h3>Python</h3>
                <div class="code-block">
                    <button class="btn btn-sm btn-outline-primary copy-btn" title="Copy to clipboard">üìã Copy</button>
                    <pre><code>import requests

response = requests.post(
    'http://144.24.119.46/api/idempotency/check',
    headers={'X-API-KEY': 'your-api-key'},
    json={
        'idempotencyKey': 'order-12345',
        'ttlSeconds': 3600
    }
)

if response.json()['isDuplicate']:
    print('Duplicate - skip operation')
else:
    print('New request - proceed')</code></pre>
                </div>
            </section>

            <!-- API Tester Section -->
            <section class="page" data-page="tester">
                <h2>üß™ Interactive API Tester</h2>
                <p>Test the Idempotency Check API directly below:</p>

                <div class="endpoint">
                    <form id="testerForm" class="row g-3">
                        <div class="col-md-6">
                            <label for="apiKey" class="form-label"><strong>API Key</strong></label>
                            <input type="text" class="form-control" id="apiKey" placeholder="your-api-key" value="demo-key-123">
                        </div>
                        <div class="col-md-6">
                            <label for="idempotencyKey" class="form-label"><strong>Idempotency Key</strong></label>
                            <input type="text" class="form-control" id="idempotencyKey" placeholder="e.g., order-123" value="">
                        </div>
                        <div class="col-md-6">
                            <label for="ttlSeconds" class="form-label"><strong>TTL Seconds</strong></label>
                            <input type="number" class="form-control" id="ttlSeconds" placeholder="3600" value="3600" min="1" max="3600">
                        </div>
                        <div class="col-md-6 d-flex align-items-end">
                            <button type="button" class="btn btn-primary w-100" id="testBtn">üöÄ Test API</button>
                        </div>
                    </form>

                    <div id="testerResult" style="display: none; margin-top: 20px;">
                        <h4>Response:</h4>
                        <pre id="resultJson"><code>Waiting for response...</code></pre>
                        <button class="btn btn-sm btn-outline-secondary" id="copyResultBtn">üìã Copy Response</button>
                    </div>

                    <div id="testerError" style="display: none; margin-top: 20px;" class="alert alert-danger"></div>
                    <div id="testerLoading" style="display: none; margin-top: 20px;" class="alert alert-info">
                        <div class="spinner-border spinner-border-sm me-2" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        Testing API...
                    </div>
                </div>
            </section>

            <!-- FAQ Section -->
            <section class="page" data-page="faq">
                <h2>‚ùì Frequently Asked Questions</h2>

                <div class="accordion" id="faqAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                What happens if I don't call the service?
                            </button>
                        </h2>
                        <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Without idempotency checks, duplicate requests will execute your operation multiple times. This can result in duplicate charges, multiple orders, or repeated notifications.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                How long should I set the TTL?
                            </button>
                        </h2>
                        <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                TTL (Time-To-Live) depends on your use case: 
                                <ul>
                                    <li><strong>Orders/Payments:</strong> 1-6 hours (3600-21600 seconds)</li>
                                    <li><strong>Quick operations:</strong> 5-10 minutes (300-600 seconds)</li>
                                    <li><strong>Webhooks:</strong> Match your webhook retry timeout (usually 24-48 hours)</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                What if the service is down?
                            </button>
                        </h2>
                        <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                If the service is unavailable, you should fail-safe by either:
                                <ul>
                                    <li>Retry your operation after service recovery</li>
                                    <li>Use local caching as a fallback</li>
                                    <li>Implement exponential backoff before retrying</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                                Can I use any string as the idempotency key?
                            </button>
                        </h2>
                        <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Yes, any string 1-64 characters long works. Best practices:
                                <ul>
                                    <li><code>UUID</code> - Best for uniqueness</li>
                                    <li><code>order-ID</code> - Descriptive</li>
                                    <li><code>user-123-action-456</code> - More context</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
                                What's the performance overhead?
                            </button>
                        </h2>
                        <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Each check takes <strong>&lt;15ms</strong> on average:
                                <ul>
                                    <li>First request (new key): ~10-15ms</li>
                                    <li>Duplicate request (existing key): ~5-10ms</li>
                                    <li>Response includes processing time in nanoseconds for detailed metrics</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq6">
                                How do I generate a good idempotency key?
                            </button>
                        </h2>
                        <div id="faq6" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Use a combination that uniquely identifies the operation:
                                <pre><code>// Good examples:
const key = `user-${userId}-order-${Date.now()}`;  // Descriptive + timestamp
const key = crypto.randomUUID();                     // Pure uniqueness
const key = `${userId}-${orderId}`;                 // User + order combo</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
    </main>

    <!-- Footer -->
    <footer>
        <p>¬© 2026 Idempotency Service | <a href="https://github.com/svmgarg/idempotent" target="_blank">GitHub Repository</a></p>
        <p style="margin-top: 10px; opacity: 0.8;">Built with Spring Boot ‚Ä¢ Version 1.0.0</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Copy to clipboard functionality
        document.querySelectorAll('.copy-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                const codeBlock = this.nextElementSibling;
                const code = codeBlock.textContent;
                navigator.clipboard.writeText(code).then(() => {
                    const originalText = this.textContent;
                    this.textContent = '‚úÖ Copied!';
                    this.classList.add('copied');
                    setTimeout(() => {
                        this.textContent = originalText;
                        this.classList.remove('copied');
                    }, 2000);
                }).catch(err => {
                    console.error('Failed to copy:', err);
                    this.textContent = '‚ùå Failed';
                    setTimeout(() => {
                        this.textContent = 'üìã Copy';
                    }, 2000);
                });
            });
        });

        // API Tester functionality
        document.getElementById('testBtn').addEventListener('click', async function() {
            const apiKey = document.getElementById('apiKey').value.trim();
            const idempotencyKey = document.getElementById('idempotencyKey').value.trim();
            const ttlSeconds = document.getElementById('ttlSeconds').value;

            const errorDiv = document.getElementById('testerError');
            const resultDiv = document.getElementById('testerResult');
            const loadingDiv = document.getElementById('testerLoading');

            errorDiv.style.display = 'none';
            resultDiv.style.display = 'none';
            loadingDiv.style.display = 'block';

            // Validation
            if (!apiKey) {
                errorDiv.textContent = '‚ùå API Key is required';
                errorDiv.style.display = 'block';
                loadingDiv.style.display = 'none';
                return;
            }
            if (!idempotencyKey) {
                errorDiv.textContent = '‚ùå Idempotency Key is required';
                errorDiv.style.display = 'block';
                loadingDiv.style.display = 'none';
                return;
            }

            try {
                const response = await fetch('http://144.24.119.46/api/idempotency/check', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-API-KEY': apiKey
                    },
                    body: JSON.stringify({
                        idempotencyKey: idempotencyKey,
                        ttlSeconds: parseInt(ttlSeconds) || 3600
                    })
                });

                const data = await response.json();
                
                if (!response.ok) {
                    errorDiv.textContent = `‚ùå Error: ${data.message || data.error || 'Unknown error'}`;
                    errorDiv.style.display = 'block';
                } else {
                    document.getElementById('resultJson').textContent = JSON.stringify(data, null, 2);
                    resultDiv.style.display = 'block';
                }
            } catch (error) {
                errorDiv.textContent = `‚ùå Connection Error: ${error.message}`;
                errorDiv.style.display = 'block';
            } finally {
                loadingDiv.style.display = 'none';
            }
        });

        // Copy result functionality
        document.getElementById('copyResultBtn').addEventListener('click', function() {
            const resultText = document.getElementById('resultJson').textContent;
            navigator.clipboard.writeText(resultText).then(() => {
                const originalText = this.textContent;
                this.textContent = '‚úÖ Copied!';
                setTimeout(() => {
                    this.textContent = originalText;
                }, 2000);
            });
        });

        // Smooth scroll for nav links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // SPA Page Navigation
        document.querySelectorAll('.nav-link-sidebar').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const pageId = this.getAttribute('href').substring(1);
                showPage(pageId);
                
                // Close sidebar on mobile
                if (window.innerWidth < 992) {
                    document.getElementById('sidebar').classList.remove('active');
                }
            });
        });

        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            const activePage = document.querySelector(`[data-page="${pageId}"]`);
            if (activePage) {
                activePage.classList.add('active');
                
                // Update page title
                const titleMap = {
                    'overview': 'üìñ Overview',
                    'quickstart': '‚ö° Quick Start',
                    'use-cases': '‚úÖ Use Cases',
                    'authentication': 'üîê Authentication',
                    'check-api': 'üîç Check API',
                    'health-api': '‚ù§Ô∏è Health API',
                    'examples': 'üí° Code Examples',
                    'tester': 'üß™ API Tester',
                    'faq': '‚ùì FAQ'
                };
                
                document.getElementById('pageTitle').textContent = titleMap[pageId] || 'Idempotency Service';
                document.getElementById('pageSubtitle').textContent = 'Never Process the Same Operation Twice';
            }
            
            // Update active nav link
            document.querySelectorAll('.nav-link-sidebar').forEach(navLink => {
                navLink.classList.remove('active');
                if (navLink.getAttribute('href') === `#${pageId}`) {
                    navLink.classList.add('active');
                }
            });
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Show overview by default
        showPage('overview');

        // Sidebar collapse/expand functionality
        const sidebarCollapseBtn = document.getElementById('sidebarCollapseBtn');
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.querySelector('.main-content');
        const footer = document.querySelector('footer');

        // Check if sidebar was previously collapsed (localStorage)
        if (localStorage.getItem('sidebarCollapsed') === 'true') {
            sidebar.classList.add('collapsed');
            mainContent.classList.add('sidebar-collapsed');
            footer.classList.add('sidebar-collapsed');
            sidebarCollapseBtn.classList.add('collapsed');
        }

        sidebarCollapseBtn.addEventListener('click', function() {
            const isCollapsed = sidebar.classList.toggle('collapsed');
            mainContent.classList.toggle('sidebar-collapsed');
            footer.classList.toggle('sidebar-collapsed');
            sidebarCollapseBtn.classList.toggle('collapsed');
            
            // Save state
            localStorage.setItem('sidebarCollapsed', isCollapsed);
        });

        // Sidebar toggle for mobile
        document.getElementById('sidebarToggle').addEventListener('click', function() {
            document.getElementById('sidebar').classList.toggle('active');
        });

        // Allow Enter key to trigger test
        document.getElementById('ttlSeconds').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('testBtn').click();
            }
        });

        document.getElementById('idempotencyKey').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('testBtn').click();
            }
        });
    </script>
</body>
</html>

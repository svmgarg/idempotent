# Idempotency Service - cURL Commands

# 1. Health Check Endpoint
curl -k -X GET https://localhost/idempotency/health

# 2. Check Idempotency - New Key
curl -k -X POST https://localhost/idempotency/check \
  -H "X-API-KEY: oUNtfxXl" \
  -H "Content-Type: application/json" \
  -d '{"idempotencyKey": "unique-request-id-123"}'

# 3. Check Idempotency - Duplicate Key (run this twice to see duplicate response)
curl -k -X POST https://localhost/idempotency/check \
  -H "X-API-KEY: oUNtfxXl" \
  -H "Content-Type: application/json" \
  -d '{"idempotencyKey": "duplicate-test-key"}'

# 4. With pretty JSON output (requires jq)
curl -s -k -X GET https://localhost/idempotency/health | jq .

curl -s -k -X POST https://localhost/idempotency/check \
  -H "X-API-KEY: oUNtfxXl" \
  -H "Content-Type: application/json" \
  -d '{"idempotencyKey": "test-'$(date +%s)'"}' | jq .
